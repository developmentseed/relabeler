{"version":3,"sources":["utils/colors.js","utils/validate.js","actions/dataActions.js","reducers/dataReducer.js","actions/controlAction.js","reducers/controlReducers.js","actions/featureActions.js","reducers/featureReducers.js","reducers/index.js","store/index.js","style/HomeStyles.js","components/Header.js","components/MapLoadingProgress.js","components/Map.style.js","components/Map.js","components/Loadfile.js","components/Slider.js","components/DisplayConflicts.js","components/Sidebar.js","components/Home.js","App.js","index.js"],"names":["colors","chroma","scale","validateTile","feature","val0","properties","label","filter","l","length","val1","map","i","index","v","conflict","FETCH_DATA_BEGIN","FETCH_DATA_SUCCESS","FETCH_DATA_FAILURE","SET_LABEL","UPDATE_DATA","SET_FILE_NAME","SET_CONFLICT_LABEL","fetchDataBegin","type","fetchDataSuccess","fData","labels","payload","fetchDataFailure","error","setFileName","fileName","setErrorLabel","confictLabel","handleErrors","response","ok","Error","statusText","initialState","data","loading","CHANGE_OPACITY","REVISION_LAYER","VALIDATION_LAYER","DOWNLOAD_FILE","downloadGeojsonFile","download","opacity","downloadFile","revLayer","valLayer","SELECTED_FEATURE","selectedFeature","combineReducers","geojsonData","state","action","control","tile","Object","assign","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","styles","theme","root","display","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","flexGrow","appBarShift","width","marginLeft","easeOut","enteringScreen","toolbar","minHeight","breakpoints","up","menuButton","marginRight","spacing","hide","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","padding","mixins","justifyContent","backgroundColor","palette","primary","main","height","content","contentShift","button","position","right","color","textTransform","textDecoration","background","border","textAlign","nameFile","Header","bind","this","props","dispatch","classes","open","handleDrawerOpen","AppBar","className","clsx","Toolbar","IconButton","aria-label","onClick","edge","Menu","Typography","variant","noWrap","Button","Component","connect","currentlabel","withStyles","MapLoadingProgress","style","marginTop","CircularProgress","size","paintLayer","id","source","paint","reviewLayer","conflictLayer","activeFeatureLayer","Map","onLabelClick","save","loadExtraStyles","toogleLayer","styleTMS","version","sources","tiles","config","layers","tileSize","minzoom","maxzoom","mapConfig","container","node","center","zoom","attributionControl","hash","maxZoom","hoverId","mapboxgl","onMapRender","e","target","loaded","setState","on","getCanvas","cursor","nextProps","initLabels","updateFeature","activeStyle","getLayer","setLayoutProperty","features","f","getSource","setData","String","setErrorLabelValidate","addSource","addLayer","event","clase","status","_data","blob","Blob","JSON","stringify","saveAs","forEach","c","name","filters","fillColors","concat","setPaintProperty","layerName","box","bbox","fitBounds","Fragment","top","rigt","left","zIndex","bottom","overflow","ref","Loadfile","onFilesChange","files","fileReader","FileReader","onload","geojson","parse","result","lab","class","readAsText","newName","replace","split","slice","join","ext","includes","validateFileName","fetchData","file","console","err","code","message","gutterBottom","Paper","onChange","onError","onFilesError","accepts","maxFiles","maxFileSize","minFileSize","clickable","value","margin","ValueLabelComponent","children","popperRef","React","useRef","useEffect","current","update","Tooltip","PopperProps","enterTouchDelay","placement","title","SliderComponent","changeOpacityControl","toogleRevLayer","toogleValLayer","Slider","defaultValue","FormControlLabel","Checkbox","paddingBottom","paddingTop","checked","DisplayConflicts","Chip","key","icon","onDelete","setLabelIn0","Sidebar","contentEditable","createRef","choseLabel","setLabel","MenuList","toString","MenuItem","selected","Grid","item","xs","justify","legendSpan","Divider","CardActions","fontSize","Home","handleDrawerClose","url","location","href","fetch","then","res","json","catch","fetchDataURL","Drawer","anchor","paper","component","createMuiTheme","amber","secondary","red","App","ThemeProvider","CssBaseline","ReactDOM","render","basename","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.81ad2647.chunk.js","sourcesContent":["import chroma from 'chroma-js';\n\nconst colors = chroma.scale('Set2').colors(10);\nexport { colors };\n","export function validateTile (feature) {\n  const val0 = feature.properties.label.filter(l => l === 0).length;\n  const val1 = feature.properties.label.map((l, i) => { return l === 1 ? { index: i } : null; }).filter(v => v !== null);\n  if (feature.properties.label.length === val0 || (feature.properties.label[0] === 1 && val1.length > 1)) {\n    feature.properties.conflict = 'yes';\n  } else {\n    feature.properties.conflict = 'no';\n  }\n  return feature;\n}\n\nexport function validateFileName (fileName) {\n  let newName = fileName.replace(/ /g, '').split('.').slice(0, -1).join('_');\n  const ext = '.' + fileName.split('.').slice(-1)[0];\n  // buscar si tiene numeros\n  if (newName.includes('(')) { newName = newName.split('(').slice(0, -1).join('_'); }\n\n  return newName + ext;\n}\n","import { colors } from '../utils/colors';\nimport { validateFileName } from '../utils/validate';\n\nexport const FETCH_DATA_BEGIN = 'FETCH_DATA_BEGIN';\nexport const FETCH_DATA_SUCCESS = 'FETCH_DATA_SUCCESS';\nexport const FETCH_DATA_FAILURE = 'FETCH_DATA_FAILURE';\nexport const SET_LABEL = 'SET_LABEL';\nexport const UPDATE_DATA = 'UPDATE_DATA';\nexport const SET_FILE_NAME = 'SET_FILE_NAME';\nexport const SET_CONFLICT_LABEL = 'SET_CONFLICT_LABEL';\n\nexport const fetchDataBegin = () => ({\n  type: FETCH_DATA_BEGIN\n});\n\nexport const fetchDataSuccess = (fData, labels, label) => {\n  return {\n    type: FETCH_DATA_SUCCESS,\n    payload: { fData, labels, label }\n  };\n};\n\nexport const fetchDataFailure = error => ({\n  type: FETCH_DATA_FAILURE,\n  payload: { error }\n});\n\nexport const setLabel = label => ({\n  type: SET_LABEL,\n  payload: { label }\n});\nexport const setFileName = fileName => ({\n  type: SET_FILE_NAME,\n  payload: { fileName }\n});\nexport const setErrorLabel = confictLabel => ({\n  type: SET_CONFLICT_LABEL,\n  payload: { confictLabel }\n});\nexport const updateData = fData => {\n  return {\n    type: UPDATE_DATA,\n    payload: { fData }\n  };\n};\n\nexport function fetchData (files) {\n  return dispatch => {\n    dispatch(fetchDataBegin());\n    const fileReader = new FileReader();\n    fileReader.onload = function (e) {\n      const geojson = JSON.parse(fileReader.result);\n      // Get labels from the source\n      const labels = geojson.features[0].properties.label.map((lab, i) => {\n        return {\n          id: i,\n          class: `Class ${i + 1}`,\n          color: colors[i % 10]\n        };\n      });\n\n      dispatch(fetchDataSuccess(geojson, labels, labels[0]));\n    };\n    fileReader.readAsText(files[0]);\n    dispatch(setFileName(validateFileName(files[0].name)));\n  };\n}\n\nexport function fetchDataURL (url) {\n  return dispatch => {\n    dispatch(fetchDataBegin());\n    return fetch(url)\n      .then(handleErrors)\n      .then(res => res.json())\n      .then(json => {\n        // Get labels from the source\n        const labels = json.features[0].properties.label.map((lab, i) => {\n          return {\n            id: i,\n            class: `Class ${i + 1}`,\n            color: colors[i % 10]\n          };\n        });\n        dispatch(fetchDataSuccess(json, labels, labels[0]));\n        return json;\n      })\n      .catch(error => dispatch(fetchDataFailure(error)));\n  };\n}\n\n// Handle HTTP errors since fetch won't.\nfunction handleErrors (response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n  return response;\n}\n\nexport function setErrorLabelValidate (confictLabel) {\n  return dispatch => {\n    if (confictLabel === '' || confictLabel === 0) {\n      dispatch(setErrorLabel(''));\n    } else {\n      dispatch(setErrorLabel(String(confictLabel)));\n    }\n  };\n}\n","import {\n  FETCH_DATA_BEGIN,\n  FETCH_DATA_SUCCESS,\n  FETCH_DATA_FAILURE,\n  SET_LABEL,\n  UPDATE_DATA,\n  SET_FILE_NAME,\n  SET_CONFLICT_LABEL\n} from '../actions/dataActions';\n\nconst initialState = {\n  data: {},\n  loading: true,\n  error: null,\n  labels: [],\n  fileName: '',\n  confictLabel: ''\n};\n\nexport default function dataReducer (state = initialState, action) {\n  switch (action.type) {\n    case FETCH_DATA_BEGIN:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case FETCH_DATA_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        data: action.payload.fData,\n        labels: action.payload.labels,\n        label: action.payload.label\n      };\n    case FETCH_DATA_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload.error,\n        data: {}\n      };\n    case SET_LABEL:\n      return {\n        ...state,\n        label: action.payload.label\n      };\n    case UPDATE_DATA:\n      return {\n        ...state,\n        data: action.payload.fData\n      };\n    case SET_FILE_NAME:\n      return {\n        ...state,\n        fileName: action.payload.fileName\n      };\n    case SET_CONFLICT_LABEL:\n      return {\n        ...state,\n        confictLabel: action.payload.confictLabel\n      };\n    default:\n      return state;\n  }\n}\n","export const CHANGE_OPACITY = 'CHANGE_OPACITY';\nexport const REVISION_LAYER = 'REVISION_LAYER';\nexport const VALIDATION_LAYER = 'VALIDATION_LAYER';\nexport const DOWNLOAD_FILE = 'DOWNLOAD_FILE';\n\nexport const changeOpacity = opacity => {\n  return {\n    type: CHANGE_OPACITY,\n    payload: { opacity }\n  };\n};\n\nexport const revisionLayer = revLayer => {\n  return {\n    type: REVISION_LAYER,\n    payload: { revLayer }\n  };\n};\n\nexport const validationLayer = valLayer => {\n  return {\n    type: VALIDATION_LAYER,\n    payload: { valLayer }\n  };\n};\n\nexport const downloadGeojsonFile = download => {\n  return {\n    type: DOWNLOAD_FILE,\n    payload: { download }\n  };\n};\n","import { CHANGE_OPACITY, DOWNLOAD_FILE, REVISION_LAYER, VALIDATION_LAYER } from '../actions/controlAction';\n\nconst initialState = {\n  opacity: 50,\n  downloadFile: false,\n  revLayer: true,\n  valLayer: true\n};\n\nexport default function dataReducer (state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_OPACITY:\n      return {\n        ...state,\n        opacity: action.payload.opacity\n      };\n    case REVISION_LAYER:\n      return {\n        ...state,\n        revLayer: action.payload.revLayer\n      };\n    case VALIDATION_LAYER:\n      return {\n        ...state,\n        valLayer: action.payload.valLayer\n      };\n    case DOWNLOAD_FILE:\n      return {\n        ...state,\n        downloadFile: action.payload.download\n      };\n    default:\n      return state;\n  }\n}\n","export const SELECTED_FEATURE = 'SELECTED_FEATURE';\n\nexport const selectedFeature = (feature) => {\n  return {\n    type: SELECTED_FEATURE,\n    payload: { feature }\n  };\n};\n","import { SELECTED_FEATURE } from '../actions/featureActions';\n\nconst initialState = {\n  feature: null\n};\n\nexport default function selectedFeature (state = initialState, action) {\n  switch (action.type) {\n    case SELECTED_FEATURE:\n      return {\n        ...state,\n        feature: Object.assign({}, action.payload.feature)\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport geojsonData from './dataReducer';\nimport control from './controlReducers';\nimport tile from './featureReducers';\n\nexport default combineReducers({\n  geojsonData,\n  control,\n  tile\n});\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from '../reducers';\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n\nexport default store;\n","const drawerWidth = 240;\n\nconst styles = theme => ({\n  root: {\n    display: 'flex'\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    flexGrow: 1\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  toolbar: {\n    minHeight: 56,\n    [theme.breakpoints.up('sm')]: {\n      minHeight: 50\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  hide: {\n    display: 'none'\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n    justifyContent: 'space-between',\n    backgroundColor: theme.palette.primary.main,\n    minHeight: '50px !important',\n    height: '50px !important'\n  },\n  content: {\n    flexGrow: 1,\n    marginLeft: -drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  },\n  button: {\n    position: 'absolute',\n    right: '5px',\n    color: '#fff !important',\n    textTransform: 'uppercase',\n    textDecoration: 'none',\n    background: '#ed3330',\n    display: 'inline-block',\n    border: 'none',\n    textAlign: 'center',\n    width: '180px'\n  },\n  nameFile: {\n    marginLeft: '1.5rem',\n    marginRight: '1.5rem'\n  },\n  confictLabel: {\n    position: 'absolute',\n    right: '210px'\n  }\n});\n\nexport default styles;\n","import React, { Component } from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { withStyles } from '@material-ui/styles';\nimport { AppBar, Button, Toolbar, IconButton, Typography } from '@material-ui/core';\nimport { Menu, Error } from '@material-ui/icons';\nimport styles from '../style/HomeStyles';\nimport { downloadGeojsonFile } from '../actions/controlAction';\n\nclass Header extends Component {\n  constructor () {\n    super();\n    this.downloadFile = this.downloadFile.bind(this);\n  }\n\n  downloadFile () {\n    this.props.dispatch(downloadGeojsonFile(true));\n  }\n\n  render () {\n    const { classes, open, handleDrawerOpen, fileName, confictLabel } = this.props;\n    return (\n      <AppBar\n        position='fixed'\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open\n        })}\n        // style={{ margin:'4px'}}\n      >\n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            color='inherit'\n            aria-label='open drawer'\n            onClick={handleDrawerOpen}\n            edge='start'\n            className={clsx(classes.menuButton, open && classes.hide)}\n          >\n            <Menu />\n          </IconButton>\n          <Typography variant='h6' noWrap>\n            Relabeler\n          </Typography>\n          <Typography variant='subtitle2' className={classes.nameFile}>\n            { fileName }\n          </Typography>\n          <Typography variant='subtitle1' className={classes.confictLabel}>\n            {confictLabel > 0 ? `Conflict tiles: ${confictLabel}` : ''}\n          </Typography>\n          <Button className={classes.button} color='inherit' onClick={this.downloadFile}>Download</Button>\n        </Toolbar>\n      </AppBar>\n    );\n  }\n}\n\nHeader.propTypes = {\n  classes: PropTypes.object,\n  open: PropTypes.bool,\n  handleDrawerOpen: PropTypes.func,\n  dispatch: PropTypes.func,\n  fileName: PropTypes.string,\n  confictLabel: PropTypes.string\n\n};\n\nconst mapStateToProps = state => ({\n  labels: state.geojsonData.labels,\n  currentlabel: state.geojsonData.label,\n  fileName: state.geojsonData.fileName,\n  confictLabel: state.geojsonData.confictLabel\n\n});\n\nexport default compose(\n  connect(mapStateToProps),\n  withStyles(styles)\n)(Header);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst MapLoadingProgress = props => {\n  const { loading } = props;\n  let content;\n  if (loading) {\n    content = (\n      <div style={{ marginLeft: 'calc(50% - 5px)', marginTop: 'calc(100vh/2 - 65px)' }}>\n        <CircularProgress size={80} color='secondary' />\n      </div>\n    );\n  } else {\n    content = <div />;\n  }\n  return content;\n};\n\nMapLoadingProgress.propTypes = {\n  loading: PropTypes.bool.isRequired\n};\n\nexport default MapLoadingProgress;\n","export const paintLayer = {\n  id: 'labels',\n  source: 'labels',\n  type: 'fill',\n  paint: {\n    //   'fill-color': fillColors,\n    'fill-opacity': 50 / 100\n  }\n};\n\nexport const reviewLayer = {\n  id: 'reviewLayer',\n  source: 'labels',\n  type: 'line',\n  paint: {\n    'line-width': ['match', ['get', 'status'], 'no', 1, 'yes', 1, 1],\n    'line-color': ['match', ['get', 'status'], 'no', '#30ff07', 'yes', '#30ff07', 'white'],\n    'line-gap-width': ['match', ['get', 'status'], 'no', 6, 'yes', 6, 0],\n    'line-opacity': 50 / 100\n  }\n};\n\nexport const conflictLayer = {\n  id: 'conflictLayer',\n  source: 'labels',\n  type: 'line',\n  paint: {\n    'line-width': ['match', ['get', 'conflict'], 'yes', 2, 0],\n    'line-color': ['match', ['get', 'conflict'], 'yes', '#ff0000', 'no', 'white', 'white'],\n    'line-dasharray': [10, 10],\n    'line-opacity': 50 / 100\n  }\n};\n\nexport const activeFeatureLayer = {\n  id: 'activeFeature',\n  source: 'activeFeature',\n  type: 'line',\n  paint: {\n    'line-width': 2,\n    'line-gap-width': 6,\n    'line-color': '#ffff00',\n    'line-opacity': 0.8\n  }\n};\n","import React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport PropTypes from 'prop-types';\nimport bbox from '@turf/bbox';\nimport { saveAs } from 'file-saver';\nimport { connect } from 'react-redux';\nimport MapLoadingProgress from './MapLoadingProgress';\nimport { downloadGeojsonFile } from '../actions/controlAction';\nimport { selectedFeature } from '../actions/featureActions';\nimport { setErrorLabelValidate } from '../actions/dataActions';\nimport { validateTile } from './../utils/validate';\nimport config from './../config.json';\nimport { paintLayer, reviewLayer, conflictLayer, activeFeatureLayer } from './Map.style';\nclass Map extends Component {\n  constructor (props) {\n    super(props);\n    this.state = { loading: true };\n    this.onLabelClick = this.onLabelClick.bind(this);\n    this.save = this.save.bind(this);\n    this.loadExtraStyles = this.loadExtraStyles.bind(this);\n    this.toogleLayer = this.toogleLayer.bind(this);\n  }\n\n  componentDidMount () {\n    // mapboxgl.accessToken = config.accessToken;\n    const styleTMS = {\n      version: 8,\n      sources: {\n        'raster-tiles': {\n          type: 'raster',\n          tiles: config.layers,\n          tileSize: 256\n        }\n      },\n      layers: [\n        {\n          id: 'tmsLayer',\n          type: 'raster',\n          source: 'raster-tiles',\n          minzoom: 0,\n          maxzoom: 22\n        }\n      ]\n    };\n    const mapConfig = {\n      container: this.node,\n      style: styleTMS,\n      center: [0, 0],\n      zoom: 0,\n      attributionControl: true,\n      hash: true,\n      maxZoom: 18\n    };\n    this.hoverId = 0;\n    const map = new mapboxgl.Map(mapConfig);\n    const onMapRender = e => {\n      if (e.target && e.target.loaded()) {\n        this.setState({ loading: false });\n      }\n    };\n    this.onMapRender = onMapRender;\n    map.on('render', this.onMapRender);\n    map.on('load', () => {\n      map.on('click', 'labels', this.onLabelClick);\n      this.loadExtraStyles();\n    });\n    map.on('mouseover', 'labels', function (e) {\n      map.getCanvas().style.cursor = e ? 'pointer' : '';\n    });\n    this.map = map;\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (nextProps.data && nextProps.currentlabel) {\n      this.initLabels(nextProps.data, nextProps.currentlabel, nextProps.opacity);\n    }\n    if (nextProps.feature) {\n      this.updateFeature(nextProps.feature);\n      this.activeStyle(nextProps.feature);\n    }\n    // Download geojso file\n    if (nextProps.downloadFile) {\n      this.save();\n      this.props.dispatch(downloadGeojsonFile(false));\n    }\n    this.toogleLayer(nextProps.revLayer, nextProps.valLayer);\n  }\n\n  toogleLayer (revLayer, valLayer) {\n    if (this.map.getLayer('conflictLayer')) {\n      valLayer ? this.map.setLayoutProperty('conflictLayer', 'visibility', 'visible') : this.map.setLayoutProperty('conflictLayer', 'visibility', 'none');\n    }\n    if (this.map.getLayer('reviewLayer')) {\n      revLayer ? this.map.setLayoutProperty('reviewLayer', 'visibility', 'visible') : this.map.setLayoutProperty('reviewLayer', 'visibility', 'none');\n      // if (revLayer) {\n      //   this.map.setLayoutProperty('reviewLayer', 'line-color', ['match', ['get', 'status'], 'no', '#30ff07', 'yes', '#30ff07', 'white']);\n      //   this.map.setLayoutProperty('reviewLayer', 'line-gap-width', ['match', ['get', 'status'], 'no', 6, 'yes', 6, 0]);\n      // } else {\n      //   this.map.setLayoutProperty('reviewLayer', 'line-color', 'white');\n      //   this.map.setLayoutProperty('reviewLayer', 'line-gap-width', '0');\n      // }\n    }\n  }\n\n  updateFeature (feature) {\n    const data = this.props.data;\n    let confictLabel = 0;\n    data.features = this.props.data.features.map(f => {\n      if (f.properties.index === feature.properties.index) {\n        f.properties = Object.assign({}, feature.properties);\n      }\n      if (f.properties.conflict === 'yes') {\n        confictLabel++;\n      }\n\n      return f;\n    });\n    this.map.getSource('labels').setData(data);\n    this.props.dispatch(setErrorLabelValidate(confictLabel));\n  }\n\n  activeStyle (feature) {\n    if (!this.map.getSource('activeFeature')) {\n      this.map.addSource('activeFeature', {\n        type: 'geojson',\n        data: {\n          type: 'FeatureCollection',\n          features: [feature]\n        }\n      });\n      this.map.addLayer(activeFeatureLayer);\n    } else {\n      this.map.getSource('activeFeature').setData({\n        type: 'FeatureCollection',\n        features: [feature]\n      });\n    }\n  }\n\n  onLabelClick (event) {\n    // shift the label by one\n    const feature = event.features[0];\n    const clase = this.props.currentlabel;\n    const data = this.props.data;\n    data.features = this.props.data.features.map(f => {\n      if (f.properties.index === feature.properties.index) {\n        f.properties.label[clase.id] = f.properties.label[clase.id] ? 0 : 1;\n        f.properties.status = !f.properties.status || f.properties.status === 'no' ? 'yes' : 'no';\n        f = validateTile(f);\n        this.props.dispatch(selectedFeature(f));\n      }\n      return f;\n    });\n    this.map.getSource('labels').setData(data);\n  }\n\n  save () {\n    if (this.map.getSource('labels')) {\n      const data = this.map.getSource('labels')._data;\n      const blob = new Blob([JSON.stringify(data)], { type: 'application/json;charset=utf-8' });\n      saveAs(blob, this.props.fileName);\n    }\n  }\n\n  loadExtraStyles () {\n    config.classes.forEach(c => {\n      if (c.layers.length > 0) {\n        this.map.addLayer({\n          id: c.name,\n          type: 'raster',\n          source: {\n            type: 'raster',\n            tiles: c.layers,\n            minzoom: 0,\n            maxzoom: 22\n          }\n        });\n        this.map.setLayoutProperty(c.name, 'visibility', 'none');\n      }\n    });\n  }\n\n  initLabels (data, currentlabel, opacity) {\n    const filters = [\n      ['==', ['number', ['at', currentlabel.id, ['array', ['get', 'label']]]], 1],\n      currentlabel.color\n    ];\n    const fillColors = ['case'].concat(filters).concat(['black']);\n\n    /**\n     * Load the layer for first time\n     */\n    if (!this.map.getSource('labels')) {\n      paintLayer.paint['fill-color'] = fillColors;\n\n      /**\n       * Set label\n       */\n      data.features = data.features.map((f, i) => {\n        f.properties.index = i;\n        f = validateTile(f);\n        return f;\n      });\n      this.map.addSource('labels', {\n        type: 'geojson',\n        data: data\n      });\n      const box = bbox(data);\n      // zoom to the data\n      this.map.fitBounds([[box[0], box[1]], [box[2], box[3]]]);\n      this.map.addLayer(paintLayer);\n      this.map.addLayer(reviewLayer);\n      this.map.addLayer(conflictLayer);\n    } else {\n      this.map.setPaintProperty('labels', 'fill-color', fillColors);\n      this.map.setPaintProperty('labels', 'fill-opacity', opacity / 100);\n      this.map.setPaintProperty('reviewLayer', 'line-opacity', opacity / 100);\n      this.map.setPaintProperty('conflictLayer', 'line-opacity', opacity / 100);\n      // show and hide layers\n      config.classes.forEach((c, i) => {\n        const layerName = c.name;\n        if (this.map.getLayer(layerName)) {\n          this.map.setLayoutProperty(layerName, 'visibility', 'none');\n          if (currentlabel.id === i) {\n            this.map.setLayoutProperty(layerName, 'visibility', 'visible');\n          }\n        }\n      });\n    }\n  }\n\n  render () {\n    const { loading } = this.state;\n    const style = {\n      position: 'absolute',\n      top: 0,\n      rigt: 0,\n      left: 0,\n      zIndex: 99,\n      bottom: 0,\n      width: '100%',\n      overflow: 'hidden'\n    };\n\n    return (\n      <React.Fragment>\n        <div id='map' style={style} ref={c => (this.node = c)} />\n        <MapLoadingProgress loading={loading} />\n      </React.Fragment>\n    );\n  }\n}\n\nMap.propTypes = {\n  data: PropTypes.object,\n  currentlabel: PropTypes.object,\n  feature: PropTypes.object,\n  opacity: PropTypes.number,\n  downloadFile: PropTypes.bool,\n  dispatch: PropTypes.func,\n  revLayer: PropTypes.bool,\n  valLayer: PropTypes.bool,\n  fileName: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  data: state.geojsonData.data,\n  loading: state.geojsonData.loading,\n  error: state.geojsonData.error,\n  labels: state.geojsonData.labels,\n  currentlabel: state.geojsonData.label,\n  opacity: state.control.opacity,\n  downloadFile: state.control.downloadFile,\n  feature: state.tile.feature,\n  revLayer: state.control.revLayer,\n  valLayer: state.control.valLayer,\n  fileName: state.geojsonData.fileName\n});\n\nexport default connect(mapStateToProps)(Map);\n","import React, { Component } from 'react';\nimport Files from 'react-files';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { fetchData } from './../actions/dataActions';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nclass Loadfile extends Component {\n  constructor (props) {\n    super(props);\n    this.onFilesChange = this.onFilesChange.bind(this);\n  }\n\n  onFilesChange (files) {\n    this.props.dispatch(fetchData(files));\n  }\n\n  onFilesError (error, file) {\n    console.err('error code ' + error.code + ': ' + error.message);\n  }\n\n  render () {\n    return (\n      <div style={{ padding: 10 }}>\n        <Typography variant='caption' display='block' gutterBottom>\n          Load label-maker geojson file\n        </Typography>\n        <Paper>\n          <Files\n            className='files-dropzone-list'\n            onChange={this.onFilesChange}\n            onError={this.onFilesError}\n            accepts={['.geojson', '.json']}\n            maxFiles={1}\n            maxFileSize={1000000000}\n            minFileSize={0}\n            clickable\n          >\n            <input type='submit' value='Choose a file' style={{ width: '210px', margin: '5px' }} />\n          </Files>\n        </Paper>\n      </div>\n    );\n  }\n}\n\nLoadfile.propTypes = {\n  dispatch: PropTypes.func\n};\n\nexport default connect(null)(Loadfile);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Paper from '@material-ui/core/Paper';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nimport {\n  changeOpacity,\n  revisionLayer,\n  validationLayer\n} from './../actions/controlAction';\n\nfunction ValueLabelComponent (props) {\n  const { children, open, value } = props;\n  const popperRef = React.useRef(null);\n  React.useEffect(() => {\n    if (popperRef.current) {\n      popperRef.current.update();\n    }\n  });\n\n  return (\n    <Tooltip\n      PopperProps={{\n        popperRef\n      }}\n      open={open}\n      enterTouchDelay={0}\n      placement='top'\n      title={value}\n    >\n      {children}\n    </Tooltip>\n  );\n}\n\nValueLabelComponent.propTypes = {\n  children: PropTypes.element.isRequired,\n  open: PropTypes.bool.isRequired,\n  value: PropTypes.number.isRequired\n};\n\nclass SliderComponent extends Component {\n  constructor (props) {\n    super(props);\n    this.changeOpacityControl = this.changeOpacityControl.bind(this);\n    this.toogleRevLayer = this.toogleRevLayer.bind(this);\n    this.toogleValLayer = this.toogleValLayer.bind(this);\n  }\n\n  changeOpacityControl (event, value) {\n    this.props.dispatch(changeOpacity(value));\n  }\n\n  toogleRevLayer (value) {\n    this.props.dispatch(revisionLayer(!value));\n  }\n\n  toogleValLayer (value) {\n    this.props.dispatch(validationLayer(!value));\n  }\n\n  render () {\n    const { opacity, revLayer, valLayer } = this.props;\n    return (\n      <div style={{ width: '210px', margin: '1px' }}>\n        <Typography\n          variant='caption'\n          display='block'\n          gutterBottom\n          style={{ marginLeft: '5px' }}\n        >\n          Label opacity\n        </Typography>\n        <Paper style={{ padding: '3px' }}>\n          <Slider\n            ValueLabelComponent={ValueLabelComponent}\n            aria-label='label'\n            defaultValue={opacity}\n            onChange={this.changeOpacityControl}\n          />\n        </Paper>\n\n        <FormControlLabel\n          style={{ marginTop: '10px' }}\n          control={\n            <Checkbox\n              style={{ paddingBottom: '1px', paddingTop: '1px' }}\n              checked={revLayer}\n              onChange={() => {\n                this.toogleRevLayer(revLayer);\n              }}\n              color='primary'\n            />\n          }\n          label={\n            <Typography variant='caption' display='block' gutterBottom>\n              Revision layer\n            </Typography>\n          }\n        />\n        <FormControlLabel\n          control={\n            <Checkbox\n              style={{ paddingBottom: '1px', paddingTop: '1px' }}\n              checked={valLayer}\n              onChange={() => {\n                this.toogleValLayer(valLayer);\n              }}\n              color='primary'\n            />\n          }\n          label={\n            <Typography variant='caption' display='block' gutterBottom>\n              Validation layer\n            </Typography>\n          }\n        />\n      </div>\n    );\n  }\n}\n\nSliderComponent.propTypes = {\n  dispatch: PropTypes.func,\n  opacity: PropTypes.number,\n  revLayer: PropTypes.bool,\n  valLayer: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  opacity: state.control.opacity,\n  revLayer: state.control.revLayer,\n  valLayer: state.control.valLayer\n});\n\nexport default connect(mapStateToProps)(SliderComponent);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Chip, Typography } from '@material-ui/core';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport PropTypes from 'prop-types';\nimport { selectedFeature } from '../actions/featureActions';\nimport { validateTile } from './../utils/validate';\nimport config from './../config.json';\n\nclass DisplayConflicts extends Component {\n  setLabelIn0 (index) {\n    let feature = this.props.feature;\n    feature.properties.label[index] = 0;\n    feature = validateTile(feature);\n    this.props.dispatch(selectedFeature(feature));\n  }\n\n  render () {\n    const { feature, labels } = this.props;\n    return (\n      <div style={{ width: '210px', margin: '1px' }}>\n        <Typography variant='caption' display='block' gutterBottom>\n        Labels on the tile\n        </Typography>\n        {\n          feature ? feature.properties.label.map((label, index) => {\n            if (label === 1) {\n              return (\n                <Chip\n                  key={`chip-${index}`}\n                  icon={<ErrorIcon />}\n                  label={config.classes[index].name || labels[index]}\n                  onDelete={() => { this.setLabelIn0(index); }}\n                  style={{ backgroundColor: labels[index].color }}\n                />\n              );\n            } else {\n              return null;\n            }\n          }) : null\n        }\n      </div>\n    );\n  }\n}\n\nDisplayConflicts.propTypes = {\n  feature: PropTypes.object,\n  labels: PropTypes.array,\n  dispatch: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  feature: state.tile.feature,\n  labels: state.geojsonData.labels\n});\n\nexport default connect(mapStateToProps)(DisplayConflicts);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CardActions,\n  Typography,\n  Grid,\n  MenuItem,\n  MenuList,\n  Divider\n} from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { setLabel } from '../actions/dataActions';\nimport config from './../config.json';\nimport Loadfile from './Loadfile';\nimport Slider from './Slider';\nimport DisplayConflicts from './DisplayConflicts';\n\nconst styles = theme => ({\n  title: {\n    fontSize: 12,\n    alignItems: 'center',\n    marginTop: '5px'\n  },\n  legendSpan: {\n    display: 'block',\n    height: '25px',\n    width: '60px',\n    textAlign: 'center',\n    alignItems: 'center',\n    color: '#808080'\n  }\n});\n\nclass Sidebar extends Component {\n  constructor () {\n    super();\n    this.contentEditable = React.createRef();\n    this.choseLabel = this.choseLabel.bind(this);\n  }\n\n  choseLabel (label, id) {\n    this.props.dispatch(setLabel(label));\n  }\n\n  render () {\n    const { classes, labels, currentlabel } = this.props;\n    return (\n      <div>\n        <MenuList>\n          {labels.map((label, id) => (\n            <div key={id.toString()}>\n              <MenuItem\n                selected={label.id === currentlabel.id}\n                onClick={() => {\n                  this.choseLabel(label, id);\n                }}\n                style={{ paddingBottom: '2px', paddingTop: '2px' }}\n              >\n                <Grid item xs={12}>\n                  <Grid container justify='center'>\n                    <Grid item xs={8}>\n                      <Typography\n                        className={classes.title}\n                        color='textSecondary'\n                        gutterBottom\n                      >\n                        {config.classes[id].name || label.class}\n                      </Typography>\n                    </Grid>\n                    <Grid item xs={4}>\n                      <span\n                        style={{ background: label.color, marginLeft: '5px' }}\n                        className={classes.legendSpan}\n                      />\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </MenuItem>\n              <Divider />\n            </div>\n          ))}\n        </MenuList>\n        {labels.length === 0 ? <Loadfile /> : null}\n        <Divider />\n        <CardActions>\n          {labels.length > 0 ? (\n            <div>\n              <Slider />\n            </div>\n          ) : null}\n        </CardActions>\n        <Divider />\n        <CardActions>\n          <DisplayConflicts />\n        </CardActions>\n        <Divider />\n      </div>\n    );\n  }\n}\n\nSidebar.propTypes = {\n  classes: PropTypes.object,\n  dispatch: PropTypes.func,\n  labels: PropTypes.array,\n  currentlabel: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  labels: state.geojsonData.labels,\n  currentlabel: state.geojsonData.label\n});\n\nexport default compose(\n  connect(mapStateToProps),\n  withStyles(styles)\n)(Sidebar);\n","import React, { Component } from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/styles';\nimport { Drawer, Typography, Divider, IconButton } from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport Header from './Header';\nimport styles from './../style/HomeStyles';\nimport Map from './Map';\nimport Sidebar from './Sidebar';\nimport { fetchDataURL } from './../actions/dataActions';\nclass Home extends Component {\n  constructor (props) {\n    super(props);\n    this.handleDrawerOpen = this.handleDrawerOpen.bind(this);\n    this.handleDrawerClose = this.handleDrawerClose.bind(this);\n    this.state = { open: true };\n    const url = window.location.href.split('?url=')[1];\n    this.props.dispatch(fetchDataURL(url));\n  }\n\n  handleDrawerOpen () {\n    this.setState({ open: true });\n  }\n\n  handleDrawerClose () {\n    this.setState({ open: false });\n  }\n\n  render () {\n    // const open =true;\n    const { classes } = this.props;\n    const { open } = this.state;\n    return (\n      <div className={classes.root}>\n        <Header handleDrawerOpen={this.handleDrawerOpen} open={open} />\n        <Drawer\n          className={classes.drawer}\n          variant='persistent'\n          anchor='left'\n          open={open}\n          classes={{\n            paper: classes.drawerPaper\n          }}\n        >\n          <div className={classes.drawerHeader}>\n            <Typography gutterBottom component='h3'>\n              Classes\n            </Typography>\n            <IconButton onClick={this.handleDrawerClose}>\n              <ChevronLeftIcon />\n            </IconButton>\n          </div>\n          <Divider />\n          <Sidebar />\n        </Drawer>\n        <Map className={clsx(classes.content)} />\n      </div>\n    );\n  }\n}\n\nHome.propTypes = {\n  classes: PropTypes.object,\n  dispatch: PropTypes.func\n};\n\nconst mapStateToProps = state => ({});\n\nexport default compose(\n  connect(mapStateToProps),\n  withStyles(styles)\n)(Home);\n","import React, { Component } from 'react';\nimport 'typeface-roboto'; // eslint-disable-line\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport amber from '@material-ui/core/colors/amber';\nimport red from '@material-ui/core/colors/red';\nimport { ThemeProvider } from '@material-ui/styles';\nimport Home from './components/Home';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: amber,\n    secondary: red\n  }\n});\n\nclass App extends Component {\n  render () {\n    return (\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <Home />\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport HttpsRedirect from 'react-https-redirect';\n\nimport store from './store';\nimport App from './App';\n\nReactDOM.render(\n  <HttpsRedirect>\n    <Provider store={store}>\n      <BrowserRouter basename='/relabeler'>\n        <Switch>\n          <Route exact component={App} path='/' />\n        </Switch>\n      </BrowserRouter>\n    </Provider>\n  </HttpsRedirect>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}